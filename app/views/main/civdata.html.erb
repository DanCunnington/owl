<div id="civdata">
	<div id="maps">
		<div id="map"></div>
		<div class="console">
			<h3>Fuel/Gas</h3>
		</div>
	</div>
</div>



<script>


    /// check if our map exists, if not then load it in

    // if ($("#map").length < 1) {
    //   var mapsHtml = '<div id="maps"><div id="navigation"><div class="navlist"><div id="directionsPanel" style="height 100%;"></div></div></div><div id="mapOverlay"><h3>Loading maps...<span></span></h3></div><div id="map"></div></div>'
    //   $("#eye").append(mapsHtml)

    //   $.loadScript('https://maps.googleapis.com/maps/api/js?key=AIzaSyAwpA8PHX57_8RCU8iCCDdIEViCWrpy44k&libraries=drawing&callback=initCivdataMap', function() { });
    // }

    // ///// Maps functionality

    // // Fade in maps after a second so we don't get background flicker!
    // setTimeout(function() {
    //     $("#maps").css("opacity", "1")
    //     $("#mapOverlay h3 span").css("width", "100%").css("opacity", "1")
    // }, 150)
    // setTimeout(function() {
    //     $("#mapOverlay").fadeOut("fast")
    //     $("#readout").val(" ")
    // }, 600)

    function addConsole() {

    }


    $.loadScript('https://maps.googleapis.com/maps/api/js?key=AIzaSyAwpA8PHX57_8RCU8iCCDdIEViCWrpy44k&libraries=drawing&callback=initCivMap', function() { });

    var styles = [
	  {
	    "elementType": "geometry",
	    "stylers": [
	      {
	        "color": "#212121"
	      }
	    ]
	  },
	  {
	    "elementType": "labels.icon",
	    "stylers": [
	      {
	        "visibility": "off"
	      }
	    ]
	  },
	  {
	    "elementType": "labels.text.fill",
	    "stylers": [
	      {
	        "color": "#757575"
	      }
	    ]
	  },
	  {
	    "elementType": "labels.text.stroke",
	    "stylers": [
	      {
	        "color": "#212121"
	      }
	    ]
	  },
	  {
	    "featureType": "administrative",
	    "elementType": "geometry",
	    "stylers": [
	      {
	        "color": "#757575"
	      }
	    ]
	  },
	  {
	    "featureType": "administrative.country",
	    "elementType": "labels.text.fill",
	    "stylers": [
	      {
	        "color": "#9e9e9e"
	      }
	    ]
	  },
	  {
	    "featureType": "administrative.land_parcel",
	    "stylers": [
	      {
	        "visibility": "off"
	      }
	    ]
	  },
	  {
	    "featureType": "administrative.locality",
	    "elementType": "labels.text.fill",
	    "stylers": [
	      {
	        "color": "#bdbdbd"
	      }
	    ]
	  },
	  {
	    "featureType": "poi",
	    "elementType": "labels.text.fill",
	    "stylers": [
	      {
	        "color": "#757575"
	      }
	    ]
	  },
	  {
	    "featureType": "poi.park",
	    "elementType": "geometry",
	    "stylers": [
	      {
	        "color": "#181818"
	      }
	    ]
	  },
	  {
	    "featureType": "poi.park",
	    "elementType": "labels.text.fill",
	    "stylers": [
	      {
	        "color": "#ffffff"
	      }
	    ]
	  },
	  {
	    "featureType": "poi.park",
	    "elementType": "labels.text.stroke",
	    "stylers": [
	      {
	        "color": "#333333"
	      }
	    ]
	  },
	  {
	    "featureType": "road",
	    "elementType": "geometry.fill",
	    "stylers": [
	      {
	        "color": "#555555"
	      }
	    ]
	  },
	  {
	    "featureType": "road",
	    "elementType": "labels.text.fill",
	    "stylers": [
	      {
	        "color": "#ffffff"
	      }
	    ]
	  },
	  {
	    "featureType": "road.arterial",
	    "elementType": "geometry",
	    "stylers": [
	      {
	        "color": "#373737"
	      }
	    ]
	  },
	  {
	    "featureType": "road.highway",
	    "elementType": "geometry",
	    "stylers": [
	      {
	        "color": "#3c3c3c"
	      }
	    ]
	  },
	  {
	    "featureType": "road.highway.controlled_access",
	    "elementType": "geometry",
	    "stylers": [
	      {
	        "color": "#4e4e4e"
	      }
	    ]
	  },
	  {
	    "featureType": "road.local",
	    "elementType": "labels.text.fill",
	    "stylers": [
	      {
	        "color": "#616161"
	      }
	    ]
	  },
	  {
	    "featureType": "transit",
	    "elementType": "labels.text.fill",
	    "stylers": [
	      {
	        "color": "#757575"
	      }
	    ]
	  },
	  {
	    "featureType": "water",
	    "elementType": "geometry",
	    "stylers": [
	      {
	        "color": "#000000"
	      }
	    ]
	  },
	  {
	    "featureType": "water",
	    "elementType": "labels.text.fill",
	    "stylers": [
	      {
	        "color": "#3d3d3d"
	      }
	    ]
	  }
	]

    function initCivMap() {
    	// The location of Uluru
		// The map, centered at Uluru
		var map = new google.maps.Map(
		  document.getElementById('map'), {
		  	zoom: 12,
    		disableDefaultUI: true,
		  	center: {lat: 35.613, lng: -77.366},
		  	styles: styles
		  });
		// The marker, positioned at Uluru

		var cyanDotBot = {
			path: google.maps.SymbolPath.CIRCLE,
			fillColor: '#05bfc0',
			fillOpacity: 1,
			scale: 8,
			strokeColor: '#05bfc0',
			strokeWeight: 3,
			labelOrigin: new google.maps.Point(3, -2.5),
		};

		var redDot = {
			path: google.maps.SymbolPath.CIRCLE,
			fillColor: 'red',
			fillOpacity: 1,
			scale: 8,
			strokeColor: 'red',
			strokeWeight: 3,
			labelOrigin: new google.maps.Point(2.5, -2.5),
		};

		var greenDot = {
			path: google.maps.SymbolPath.CIRCLE,
			fillColor: 'green',
			fillOpacity: 1,
			scale: 8,
			strokeColor: 'green',
			strokeWeight: 3,
			labelOrigin: new google.maps.Point(2.5, -2.5),
		};

		var orangeDot = {
			path: google.maps.SymbolPath.CIRCLE,
			fillColor: 'orange',
			fillOpacity: 1,
			scale: 8,
			strokeColor: 'orange',
			strokeWeight: 3,
			labelOrigin: new google.maps.Point(2.5, -2.5),
		};

		// make civilians points
		for (var i = 25 - 1; i >= 0; i--) {
			var rand = Math.floor((Math.random() * 800) + 1)/3000;
			var la = 35.5030 + rand

			var randl = Math.floor((Math.random() * 1000) + 1)/2000;
			var ln = -77.2000 - randl

			var marker = new google.maps.Marker({
				position: {lat: la, lng: ln},
				map: map,
				title: "Civilian",
		 		label: {text: "Civilian", color: "white", fontSize: "14px", fontWeight: "300"},
				icon: cyanDotBot
			});

			marker.addListener('click', function() {
				var e = $(this)
				$(".console h3").fadeOut("fast")
				$(".console p").fadeOut("fast")
				setTimeout(function() {
					$(".console h3").remove()
					$(".console p").remove()
		        	console.log(e[0])
					var l = e[0].label.text
					var lat = e[0].position.lat()
					var lng = e[0].position.lng()
		        	$(".console").html("<h3>" + l + "</h3><p>Latitude: " + lat + "</p><p>Longitude: " + lng + "</p>").addClass("in")
				}, 160)
	        });

	        marker.addListener('mouseover', function() {
			    marker.setIcon(redDot)
			});
		}

		/// make a few ems
		for (var i = 7 - 1; i >= 0; i--) {
			var rand = Math.floor((Math.random() * 800) + 1)/4000;
			var la = 35.5230 + rand

			var randl = Math.floor((Math.random() * 1000) + 1)/3000;
			var ln = -77.2000 - randl

			var marker = new google.maps.Marker({
				position: {lat: la, lng: ln},
				map: map,
				title: "EMS",
		 		label: {text: "EMS", color: "white", fontSize: "14px", fontWeight: "300"},
				icon: redDot
			});

			marker.addListener('click', function() {
				var e = $(this)
				$(".console h3").fadeOut("fast")
				setTimeout(function() {
					$(".console h3").remove()
		        	console.log(e[0])
					var l = e[0].label.text
					var lat = e[0].position.lat()
					var lng = e[0].position.lng()
		        	$(".console").html("<h3>" + l + "</h3><p>Latitude: " + lat + "</p><p>Longitude: " + lng + "</p>").addClass("in")
				}, 160)
	        });
		}

		/// make a few food markers
		for (var i = 10 - 1; i >= 0; i--) {
			var rand = Math.floor((Math.random() * 800) + 1)/4000;
			var la = 35.5230 + rand

			var randl = Math.floor((Math.random() * 1000) + 1)/3000;
			var ln = -77.2000 - randl

			var marker = new google.maps.Marker({
				position: {lat: la, lng: ln},
				map: map,
				title: "Food",
		 		label: {text: "FOOD", color: "white", fontSize: "14px", fontWeight: "300"},
				icon: greenDot
			});

			marker.addListener('click', function() {
				var e = $(this)
				$(".console h3").fadeOut("fast")
				setTimeout(function() {
					$(".console h3").remove()
		        	console.log(e[0])
					var l = e[0].label.text
					var lat = e[0].position.lat()
					var lng = e[0].position.lng()
		        	$(".console").html("<h3>" + l + "</h3><p>Latitude: " + lat + "</p><p>Longitude: " + lng + "</p>").addClass("in")
				}, 160)
	        });
		}

		/// make a few gas markers
		for (var i = 5 - 1; i >= 0; i--) {
			var rand = Math.floor((Math.random() * 800) + 1)/4000;
			var la = 35.5230 + rand

			var randl = Math.floor((Math.random() * 1000) + 1)/3000;
			var ln = -77.2000 - randl

			var marker = new google.maps.Marker({
				position: {lat: la, lng: ln},
				map: map,
				title: "Fuel/Gas",
		 		label: {text: "Fuel/Gas", color: "white", fontSize: "14px", fontWeight: "300"},
				icon: orangeDot
			});

			marker.addListener('click', function() {
				var e = $(this)
				$(".console h3").fadeOut("fast")
				setTimeout(function() {
					$(".console h3").remove()
		        	console.log(e[0])
					var l = e[0].label.text
					var lat = e[0].position.lat()
					var lng = e[0].position.lng()
		        	$(".console").html("<h3>" + l + "</h3><p>Latitude: " + lat + "</p><p>Longitude: " + lng + "</p>").addClass("in")
				}, 160)
	        });
		}

		// var marker = new google.maps.Marker({
		// 	position: civ1,
		// 	map: map,
		// 	title: "Hello there!",
	 // 		label: {text: "Civilian", color: "white", fontSize: "28px", fontWeight: "300"},
		// 	icon: cyanDotBot
		// });

		// var marker = new google.maps.Marker({
		// 	position: civ2,
		// 	map: map,
		// 	title: "Hello there!",
	 // 		label: {text: "Civilian", color: "white", fontSize: "28px", fontWeight: "300"},
		// 	icon: cyanDotBot
		// });

		// var marker = new google.maps.Marker({
		// 	position: civ3,
		// 	map: map,
		// 	title: "Hello there!",
	 // 		label: {text: "Civilian", color: "white", fontSize: "28px", fontWeight: "300"},
		// 	icon: cyanDotBot
		// });

		// var marker = new google.maps.Marker({
		// 	position: civ4,
		// 	map: map,
		// 	title: "Hello there!",
	 // 		label: {text: "Civilian", color: "white", fontSize: "28px", fontWeight: "300"},
		// 	icon: cyanDotBot
		// });

		// var marker = new google.maps.Marker({
		// 	position: civ5,
		// 	map: map,
		// 	title: "Hello there!",
	 // 		label: {text: "Civilian", color: "white", fontSize: "28px", fontWeight: "300"},
		// 	icon: cyanDotBot
		// });

// var marker = new google.maps.Marker({
//   position: {lat: 40.7128, lng: -74.0059},
//   map: map,
//   title: 'Hello World!'
// });
    }
	

	// var map;
	// var newLat = 0;
	// var newLng = 0;
	// var panelDetails;
	// var adpSummary;
	// var routeTimeEst;
	// var routeDistEst;

	// // Set destination, origin and travel mode.

	// function getGeocode(address, lat, lng) {
	// 	var geocoder; geocoder = new google.maps.Geocoder(); geocoder.geocode( { 'address': address}, function(results, status) { if (status == 'OK') {lat = results[0].geometry.location.lat();lng = results[0].geometry.location.lng();} else {console.log('GeoCode failed: ' + status);}})}


	// function mapsRequest(destination, dName, dLat, dLng, origin, oName, oLat, oLng) {
	// 	var request = {
	// 	  destination: destination,
	// 	  origin: origin,
	// 	  travelMode: 'DRIVING'
	// 	};

	// 	var directionsDisplay = new google.maps.DirectionsRenderer({
	// 		map: map,
	// 		suppressMarkers: true,
	// 		polylineOptions: {
	// 		  strokeColor: "#00ffff"
	// 		}
	// 	});

	// 	// Pass the directions request to the directions service.
	// 	var directionsService = new google.maps.DirectionsService();
	// 	directionsService.route(request, function(response, status) {
	// 	  if (status == 'OK') {
	// 	    // Display the route on the map.
	// 	    directionsDisplay.setDirections(response);
	// 	    directionsDisplay.setPanel(document.getElementById('directionsPanel'))
	// 	    panelDetails = directionsDisplay.panel

	// 	    console.log(response)

	// 	    setTimeout(function() {
	// 	    	routeTimeEst = $("span[jstcache=82]").text()
	// 	    	routeDistEst = $("span[jstcache=56]").text()
	// 		    responsiveVoice.speak("About " + routeDistEst + ", and should take " + routeTimeEst + ".", "UK English Male", {rate: 1});

	// 		    // Set destination
	//             $.ajax({ type: 'POST', url: '/setdestination' });
	// 		}, 1000)
	// 	  }
	// 	});

	// 	var cyanDotTop = {
	// 		path: google.maps.SymbolPath.CIRCLE,
	// 		fillColor: '#05bfc0',
	// 		fillOpacity: 1,
	// 		scale: 8,
	// 		strokeColor: '#05bfc0',
	// 		strokeWeight: 3,
	// 		labelOrigin: new google.maps.Point(19, -3),
	// 	};

	// 	var cyanDotBot = {
	// 		path: google.maps.SymbolPath.CIRCLE,
	// 		fillColor: '#05bfc0',
	// 		fillOpacity: 1,
	// 		scale: 8,
	// 		strokeColor: '#05bfc0',
	// 		strokeWeight: 3,
	// 		labelOrigin: new google.maps.Point(23, -3),
	// 	};

	// 	new google.maps.Marker({
	// 		position: {lat: dLat, lng: dLng},
	// 		map: map,
	//  		label: {text: dName, color: "white", fontSize: "28px", fontWeight: "300"},
	// 		icon: cyanDotBot
	// 	});

	// 	new google.maps.Marker({
	// 		position: {lat: oLat, lng: oLng},
	// 		map: map,
	//       		label: {text: oName, color: "white", fontSize: "28px", fontWeight: "300"},
	// 		icon: cyanDotTop
	// 	});


	// 	// Speak out the directions!
	// }



	function initCivdataMap() {
		map = new google.maps.Map(document.getElementById('map'), {
		center: {lat: 40.7128, lng: -74.0059},
		zoom: 12,
		zoomControl: false,
		scaleControl: true,
		mapTypeControl: false,
		fullscreenControl: false,
		streetViewControl: false,
		styles: [
		  {
		    "elementType": "geometry",
		    "stylers": [
		      {
		        "color": "#1d2c4d"
		      }
		    ]
		  },
		  {
		    "elementType": "labels.text.fill",
		    "stylers": [
		      {
		        "color": "#038f94"
		      }
		    ]
		  },
		  {
		    "elementType": "labels.text.stroke",
		    "stylers": [
		      {
		        "color": "#1a3646"
		      }
		    ]
		  },
		  {
		    "featureType": "administrative.country",
		    "elementType": "geometry.stroke",
		    "stylers": [
		      {
		        "color": "#4b6878"
		      }
		    ]
		  },
		  {
		    "featureType": "administrative.land_parcel",
		    "elementType": "labels",
		    "stylers": [
		      {
		        "visibility": "off"
		      }
		    ]
		  },
		  {
		    "featureType": "administrative.land_parcel",
		    "elementType": "labels.text.fill",
		    "stylers": [
		      {
		        "color": "#64779e"
		      }
		    ]
		  },
		  {
		    "featureType": "administrative.province",
		    "elementType": "geometry.stroke",
		    "stylers": [
		      {
		        "color": "#4b6878"
		      }
		    ]
		  },
		  {
		    "featureType": "landscape.man_made",
		    "elementType": "geometry.fill",
		    "stylers": [
		      {
		        "color": "#082436"
		      }
		    ]
		  },
		  {
		    "featureType": "landscape.man_made",
		    "elementType": "geometry.stroke",
		    "stylers": [
		      {
		        "color": "#334e87"
		      }
		    ]
		  },
		  {
		    "featureType": "landscape.natural",
		    "elementType": "geometry",
		    "stylers": [
		      {
		        "color": "#023e58"
		      }
		    ]
		  },
		  {
		    "featureType": "poi",
		    "elementType": "geometry",
		    "stylers": [
		      {
		        "color": "#283d6a"
		      }
		    ]
		  },
		  {
		    "featureType": "poi",
		    "elementType": "labels.text",
		    "stylers": [
		      {
		        "visibility": "off"
		      }
		    ]
		  },
		  {
		    "featureType": "poi",
		    "elementType": "labels.text.fill",
		    "stylers": [
		      {
		        "color": "#6f9ba5"
		      }
		    ]
		  },
		  {
		    "featureType": "poi",
		    "elementType": "labels.text.stroke",
		    "stylers": [
		      {
		        "color": "#1d2c4d"
		      }
		    ]
		  },
		  {
		    "featureType": "poi.business",
		    "stylers": [
		      {
		        "visibility": "off"
		      }
		    ]
		  },
		  {
		    "featureType": "poi.park",
		    "elementType": "geometry.fill",
		    "stylers": [
		      {
		        "color": "#023e58"
		      }
		    ]
		  },
		  {
		    "featureType": "poi.park",
		    "elementType": "labels.text.fill",
		    "stylers": [
		      {
		        "color": "#3C7680"
		      }
		    ]
		  },
		  {
		    "featureType": "road",
		    "elementType": "geometry",
		    "stylers": [
		      {
		        "color": "#000"
		      }
		    ]
		  },
		  {
		    "featureType": "road",
		    "elementType": "labels.icon",
		    "stylers": [
		      {
		        "visibility": "off"
		      }
		    ]
		  },
		  {
		    "featureType": "road",
		    "elementType": "labels.text.fill",
		    "stylers": [
		      {
		        "color": "#fff"
		      }
		    ]
		  },
		  {
		    "featureType": "road",
		    "elementType": "labels.text.stroke",
		    "stylers": [
		      {
		        "visibility": "off"
		      }
		    ]
		  },
		  {
		    "featureType": "road.arterial",
		    "elementType": "geometry.fill",
		    "stylers": [
		      {
		        "color": "#033751"
		      }
		    ]
		  },
		  {
		    "featureType": "road.highway",
		    "elementType": "geometry",
		    "stylers": [
		      {
		        "color": "#054f62"
		      }
		    ]
		  },
		  {
		    "featureType": "road.highway",
		    "elementType": "geometry.fill",
		    "stylers": [
		      {
		        "color": "#014b80"
		      }
		    ]
		  },
		  {
		    "featureType": "road.highway",
		    "elementType": "geometry.stroke",
		    "stylers": [
		      {
		        "color": "#255763"
		      }
		    ]
		  },
		  {
		    "featureType": "road.highway",
		    "elementType": "labels.text.fill",
		    "stylers": [
		      {
		        "color": "#b0d5ce"
		      }
		    ]
		  },
		  {
		    "featureType": "road.highway",
		    "elementType": "labels.text.stroke",
		    "stylers": [
		      {
		        "color": "#023e58"
		      }
		    ]
		  },
		  {
		    "featureType": "road.local",
		    "elementType": "geometry.fill",
		    "stylers": [
		      {
		        "color": "#02294a"
		      }
		    ]
		  },
		  {
		    "featureType": "road.local",
		    "elementType": "labels",
		    "stylers": [
		      {
		        "visibility": "off"
		      }
		    ]
		  },
		  {
		    "featureType": "transit",
		    "stylers": [
		      {
		        "visibility": "off"
		      }
		    ]
		  },
		  {
		    "featureType": "transit",
		    "elementType": "labels.text.fill",
		    "stylers": [
		      {
		        "color": "#98a5be"
		      }
		    ]
		  },
		  {
		    "featureType": "transit",
		    "elementType": "labels.text.stroke",
		    "stylers": [
		      {
		        "color": "#1d2c4d"
		      }
		    ]
		  },
		  {
		    "featureType": "transit.line",
		    "elementType": "geometry.fill",
		    "stylers": [
		      {
		        "color": "#283d6a"
		      }
		    ]
		  },
		  {
		    "featureType": "transit.station",
		    "elementType": "geometry",
		    "stylers": [
		      {
		        "color": "#3a4762"
		      }
		    ]
		  },
		  {
		    "featureType": "water",
		    "elementType": "geometry",
		    "stylers": [
		      {
		        "color": "#0e1626"
		      }
		    ]
		  },
		  {
		    "featureType": "water",
		    "elementType": "labels.text.fill",
		    "stylers": [
		      {
		        "color": "#4e6d70"
		      }
		    ]
		  }
		]
		});

		  // var marker = new google.maps.Marker({
		  //   position: {lat: 40.7128, lng: -74.0059},
		  //   map: map,
		  //   title: 'Hello World!'
		  // });
	}




	///////// GETTING MAP COORDINATES IN REAL TIME
	// var lat = map.center.lat()
	// var lat = map.center.lng()

	// window.setTimeout(function() {
	//   map.panTo(new google.maps.LatLng(40.72104206971492, -73.97578569335938))
	// }, 750);
	
	// // Initialize with voice
	// responsiveVoice.speak("Here is our planned route.  Let me know if you need anything.", "UK English Male", {rate: 1});

      // This example requires the Drawing library. Include the libraries=drawing
      // parameter when you first load the API. For example:
      // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=drawing">
</script>
